<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>COVID19 BUSTER</title>
  <!-- MDB icon -->
  <link rel="icon" href="face-mask.png" type="image/x-icon">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
  <!-- Google Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed&display=swap" rel="stylesheet">
  <!-- Bootstrap core CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.13.0/css/mdb.min.css" rel="stylesheet">
  <!-- Your custom styles (optional) -->
  <link rel="stylesheet" href="login.css">
</head>

<body>
  <div class="bg">
  </div>

  <!-- content start -->
  <div class="row justify-content-center">
            <!-- Default form login -->
            <form class=" p-2" id="login-form">
            <center>
              <img src="https://66.media.tumblr.com/920f88631e2f3a4c184489818b631917/tumblr_oxquou1RAH1utaqtgo4_500.png" alt="">
                <p class="h4 mb-4 white-text">Welcome!</p>
            </center>
                

                <!-- Email -->
                <div class="md-form">
                  <input type="text" id="login-username" onkeyup="checkEmail(event)" class="form-item form-control">
                  <label id="login-username-label" for="username" class="form-item font-weight-light">email</label>
                </div>

                <!-- Password -->
                <div class="md-form">
                  <input type="password" id="password" onfocus="checkEmail('*')" class="form-item form-control">
                  <label id="login-password-label" for="password" class="form-item font-weight-light">password</label>
                </div>
                <a onclick="forgotPassword()" href="#" style="color:white;font-size:10px">Forgot password?</a>

                <center>
                  <!-- Sign in button -->
                <button id="login_btn" class="btn btn-block my-4" type="submit" onclick="logIn(event)">submit</button>
                </center>

            </form>
           <!--  forgot password form--> 
            <form class=" p-2"id="forgot-form" style="display:none"> 
            <center>
              <img src="https://66.media.tumblr.com/a6a0aec3ff2a163197363c5240258f87/tumblr_oxquou1RAH1utaqtgo2_500.png" alt="">
                <p class="h4 mb-4 white-text">Retrieve Password</p>
            </center>
                

                <!-- Email-->
                <div class="md-form">
                  <input type="text" id="forgot-username" onkeyup="checkEmail(event)" class="form-item form-control">
                  <label id="forgot-username-label" for="username" class="form-item font-weight-light">enter email</label>
                </div>
                <label id="email-sent"></label>

                <a onclick="back()" href="#" style="color:white;font-size:10px">Back</a>

                <center>
                  <!-- Sign in button -->
                <button id="forgot_btn" class="btn btn-block my-4" type="submit" onclick="sendEmail(event)">submit</button>
                </center>

            </form>
            <!--forgot password form end-->
    </div>


  <!-- content end -->
  
  <!-- JQuery -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.13.0/js/mdb.min.js"></script>

  <!-- Bcrypt -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/bcrypt@3.0.7/bcrypt.min.js"></script> -->
  
  <!-- Firebase core JS -->
  <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-firestore.js"> </script>
  <script src="js/firestore.js"></script>
  <script>
    $(document).ready(function() {
      checkStateOut();
    });
    function forgotPassword(){
      $("#login-form").css("display","none");
      $("#forgot-form").css("display","");

    }
    function back(){
      $("#forgot-form").css("display","none");
      $("#login-form").css("display","");
      $("#forgot-username").val("");
      $("#forgot-username-label").html("email");
    }
    function checkEmail(e){
      
      var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
      var inputText = inputText = $("#login-username").val();//// document.getElementById("username").value;
      var element = "login-username";
      if(e != '*'){
        element = e.target.id;      
        inputText =  e.target.value;
      }
      if(inputText.match(mailformat)){
        // do nothing
        $("#"+element + "-label").html("email")
      }
      else{
        $("#"+element + "-label").html("email <span style='color:red'>invalid email</span>");
       
      }
    }
 
</script>
</body>
</html>
